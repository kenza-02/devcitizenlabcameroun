---

import { Image } from "astro:assets";
import First from "~/assets/images/image-1.jpg";
import Second from "~/assets/images/image-2.jpg";
import Third from "~/assets/images/third.jpeg";


---

<section class="relative min-h-screen flex items-center overflow-hidden">
  <!-- Carousel en background avec effet Ken Burns -->
  <div class="absolute inset-0 w-full h-full overflow-hidden">
    <div
      id="carousel-track"
      class="flex w-full h-full transition-transform duration-1000 ease-in-out"
    >
      <div class="flex-shrink-0 w-full h-full relative">
        <Image
          src={First}
          alt="Citoyens engagÃ©s au SÃ©nÃ©gal"
          class="w-full h-full object-cover scale-110 animate-ken-burns"
        />
      </div>
      <div class="flex-shrink-0 w-full h-full relative">
        <Image
          src={Second}
          alt="Atelier civic tech"
          class="w-full h-full object-cover scale-110"
        />
      </div>
      <div class="flex-shrink-0 w-full h-full relative">
        <Image
          src={Third}
          alt="Ã‰vÃ©nement participatif"
          class="w-full h-full object-cover scale-110"
        />
      </div>
    </div>
    
    <!-- Overlay avec dÃ©gradÃ© sophistiquÃ© -->
    <div class="absolute inset-0 bg-gradient-to-br from-black/70 via-black/50 to-transparent"></div>
    <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"></div>
    
    <!-- Effet de grille subtile -->
    <div class="absolute inset-0 opacity-10" style="background-image: repeating-linear-gradient(0deg, transparent, transparent 2px, white 2px, white 4px), repeating-linear-gradient(90deg, transparent, transparent 2px, white 2px, white 4px);"></div>
  </div>

  <!-- Particules dÃ©coratives flottantes -->
  <div class="absolute inset-0 overflow-hidden pointer-events-none">
    <div class="particle absolute top-20 left-10 w-2 h-2 bg-green-400/60 rounded-full"></div>
    <div class="particle absolute top-40 right-20 w-3 h-3 bg-red-400/50 rounded-full"></div>
    <div class="particle absolute bottom-32 left-1/4 w-2 h-2 bg-yellow-400/60 rounded-full"></div>
    <div class="particle absolute top-1/3 right-1/3 w-2 h-2 bg-green-300/50 rounded-full"></div>
    <div class="particle absolute bottom-20 right-10 w-3 h-3 bg-red-300/40 rounded-full"></div>
  </div>

  <!-- Contenu principal -->
  <div class="relative z-10 w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20">
    <div class="text-center text-white space-y-8">
      <!-- Badge animÃ© -->
      <div class="inline-block animate-fade-in-down">
        <span class="px-6 py-2.5 bg-white/10 backdrop-blur-md border border-white/20 rounded-full text-sm font-semibold tracking-wider uppercase text-white/90 shadow-xl">
          ðŸ‡¸ðŸ‡³ Civic Tech au SÃ©nÃ©gal
        </span>
      </div>

      <!-- Titre principal avec animation -->
      <h1 class="text-5xl sm:text-6xl lg:text-7xl font-black leading-tight tracking-tight animate-fade-in-up">
        <span class="block mb-2">Votre plateforme</span>
        <span class="block mb-2">d'informations <span class="text-transparent bg-clip-text bg-gradient-to-r from-red-600 via-red-300 to-red-400 animate-gradient">citoyennes</span></span>
        <span class="block">au <span class="text-transparent bg-clip-text bg-gradient-to-r from-green-600 via-green-300 to-green-400 animate-gradient">SÃ©nÃ©gal</span></span>
      </h1>

      <!-- Sous-titre Ã©lÃ©gant -->
      <div class="max-w-4xl mx-auto animate-fade-in">
        <p class="text-center text-xl sm:text-2xl lg:text-3xl text-gray-100 font-light leading-relaxed">
          Promouvoir la <span class="font-semibold text-white">participation citoyenne</span> et la 
          <span class="font-semibold text-white">dÃ©mocratie participative</span> par l'utilisation 
          de la <span class="font-semibold text-white">technologie civique</span>
        </p>
      </div>

      <!-- Boutons CTA modernisÃ©s -->
      <div class="flex flex-col sm:flex-row justify-center gap-6 pt-4 animate-fade-in-up animation-delay-300">
        <a
          href="/contact"
          class="group relative inline-flex items-center justify-center gap-3 px-10 py-3 text-lg font-bold text-white bg-gradient-to-r from-green-600 to-green-500 hover:from-green-700 hover:to-green-600 rounded-xl shadow-2xl shadow-green-500/30 hover:shadow-green-500/50 hover:scale-105 transition-all duration-300 overflow-hidden"
        >
          <span class="absolute inset-0 w-full h-full bg-white/20 transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700"></span>
          <span class="relative">Rejoignez-nous</span>
          <svg class="relative w-5 h-5 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
          </svg>
        </a>
        
        <a
          href="/a-propos"
          class="group inline-flex items-center justify-center gap-3 px-10 py-3 text-lg font-bold text-white bg-white/10 backdrop-blur-md border-2 border-white/30 hover:bg-white/20 hover:border-white/50 rounded-xl shadow-xl hover:shadow-2xl hover:scale-105 transition-all duration-300"
        >
          <span>En savoir plus</span>
          <svg class="w-5 h-5 group-hover:rotate-45 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
          </svg>
        </a>
      </div>
    </div>
  </div>

  <!-- Indicateurs de carousel modernisÃ©s -->
  <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 z-20 flex gap-3">
    <button
      class="carousel-indicator w-12 h-1.5 bg-white/40 hover:bg-white/70 rounded-full transition-all duration-300 active"
      data-slide="0"
    ></button>
    <button
      class="carousel-indicator w-12 h-1.5 bg-white/40 hover:bg-white/70 rounded-full transition-all duration-300"
      data-slide="1"
    ></button>
    <button
      class="carousel-indicator w-12 h-1.5 bg-white/40 hover:bg-white/70 rounded-full transition-all duration-300"
      data-slide="2"
    ></button>
  </div>
</section>

<style>
  /* Animation Ken Burns (zoom progressif) */
  @keyframes ken-burns {
    0% {
      transform: scale(1.1);
    }
    100% {
      transform: scale(1.2);
    }
  }

  .animate-ken-burns {
    animation: ken-burns 20s ease-out infinite alternate;
  }

  /* Animation de gradient */
  @keyframes gradient {
    0%, 100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }

  .animate-gradient {
    background-size: 200% auto;
    animation: gradient 3s ease infinite;
  }

  /* Animations d'apparition */
  @keyframes fadeInDown {
    from {
      opacity: 0;
      transform: translateY(-20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  .animate-fade-in-down {
    animation: fadeInDown 0.8s ease-out;
  }

  .animate-fade-in-up {
    animation: fadeInUp 0.8s ease-out;
  }

  .animate-fade-in {
    animation: fadeIn 1s ease-out 0.3s backwards;
  }

  .animation-delay-300 {
    animation-delay: 0.3s;
    animation-fill-mode: backwards;
  }

  /* Animation bounce douce */
  @keyframes bounceSlow {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-10px);
    }
  }

  .animate-bounce-slow {
    animation: bounceSlow 2s ease-in-out infinite;
  }

  /* Animation des particules */
  @keyframes float-particle {
    0%, 100% {
      transform: translate(0, 0);
      opacity: 0.6;
    }
    33% {
      transform: translate(20px, -20px);
      opacity: 0.8;
    }
    66% {
      transform: translate(-15px, 15px);
      opacity: 0.4;
    }
  }

  .particle {
    animation: float-particle 8s ease-in-out infinite;
  }

  .particle:nth-child(2) {
    animation-delay: -2s;
    animation-duration: 10s;
  }

  .particle:nth-child(3) {
    animation-delay: -4s;
    animation-duration: 12s;
  }

  .particle:nth-child(4) {
    animation-delay: -6s;
    animation-duration: 9s;
  }

  .particle:nth-child(5) {
    animation-delay: -3s;
    animation-duration: 11s;
  }

  /* Style des indicateurs actifs */
  .carousel-indicator.active {
    background: white;
    width: 48px;
  }
</style>

<script>
  // Gestion du carousel automatique
  let currentSlide = 0;
  const slides = 3;
  const track = document.getElementById('carousel-track');
  const indicators = document.querySelectorAll('.carousel-indicator');

  function goToSlide(index: number) {
    currentSlide = index;
    if (track) {
      track.style.transform = `translateX(-${currentSlide * 100}%)`;
    }
    
    // Mise Ã  jour des indicateurs
    indicators.forEach((indicator, i) => {
      if (i === currentSlide) {
        indicator.classList.add('active');
      } else {
        indicator.classList.remove('active');
      }
    });
  }

  function nextSlide() {
    currentSlide = (currentSlide + 1) % slides;
    goToSlide(currentSlide);
  }

  // Changement automatique toutes les 5 secondes
  let autoplay = setInterval(nextSlide, 5000);

  // Click sur les indicateurs
  indicators.forEach((indicator, index) => {
    indicator.addEventListener('click', () => {
      goToSlide(index);
      // RÃ©initialiser l'autoplay
      clearInterval(autoplay);
      autoplay = setInterval(nextSlide, 5000);
    });
  });
</script>